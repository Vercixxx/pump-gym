import{d as k,u as C,c as P,r,b as s,o as h,e as D,w as l,f as _,n as E,g as a,h as y,s as U,k as B}from"./index-C4R03leA.js";const N=_("span",{class:"text-3xl font-weight-black"},"Reset password",-1),$=k({__name:"PasswordResetDialog",setup(A){const n=C(),m=P(()=>n.passwordResetDialog),p=()=>n.closePasswordResetDialog(),d=r(""),v=r([e=>!!e||"Email",e=>e.length>=6||"Email must containt at least 6 characters",e=>e.length<=70||"Email too large",e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Invalid email format (example@ex.ex)"]),c=r(!1);r(!1);const f=e=>{try{U(B,e),n.closePasswordResetDialog(),n.showAlert("success","Password recovery email sent, check your inbox")}catch(o){console.log(o),n.showAlert("error",o.message)}};return(e,o)=>{const i=s("v-col"),u=s("v-btn"),g=s("v-row"),w=s("v-text-field"),x=s("v-form"),V=s("v-card-text"),b=s("v-card-actions"),R=s("v-dialog");return h(),D(R,{modelValue:m.value,"onUpdate:modelValue":o[3]||(o[3]=t=>m.value=t),width:"auto",transition:"dialog-top-transition"},{default:l(()=>[_("div",{class:E(["rounded-xl pa-4",e.darkMode?"bg-slate-800":"bg-slate-200"])},[a(g,null,{default:l(()=>[a(i,{cols:"2"}),a(i,{cols:"8",align:"center"},{default:l(()=>[N]),_:1}),a(i,{cols:"2",align:"end"},{default:l(()=>[a(u,{icon:"mdi-close",variant:"plain",class:"text-xl",onClick:p})]),_:1})]),_:1}),a(V,null,{default:l(()=>[a(x,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=t=>c.value=t)},{default:l(()=>[a(w,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t),label:"Email",class:"mb-7",variant:"outlined","prepend-icon":"mdi-email",autocomplete:"email",rules:v.value},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),a(b,null,{default:l(()=>[a(u,{onClick:o[2]||(o[2]=t=>f(d.value)),class:"w-100",color:"primary",disabled:!c.value},{default:l(()=>[y("Reset password")]),_:1},8,["disabled"])]),_:1})],2)]),_:1},8,["modelValue"])}}});export{$ as default};
