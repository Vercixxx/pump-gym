import{d as H,r,u as K,c as U,a as O,b as n,o as i,e as c,w as o,h as a,n as Q,m as D,F as C,q as A,t as X,C as Y,i as q,z as Z,j as ee,f as V,D as le,E as ae,G as te,H as oe,I as ne,J as se,K as ie,L as ue}from"./index-Bkd8YCRR.js";const re=V("span",{class:"text-3xl font-weight-black"},"Join our team!",-1),de=V("span",{class:"text-3xl font-weight-black"},"Join our team!",-1),ve=H({__name:"WorkWithUsDialog",setup(ce){const m=r(!1),u=r(!1),_=r(null),f=r(""),v=r([]),w=r(null),g=K(),k=U(()=>g.workWithUsDialog),b=()=>{g.closeWorkWithUsDialog()},x=e=>{g.triggerAlert(e)},d=r([{name:"name",label:"Name",value:"",rules:[e=>!!e||"Name is required"]},{name:"email",label:"Email",value:"",rules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"]},{name:"phone",label:"Phone",value:"",rules:[e=>!!e||"Phone is required",e=>e&&e.length>=9&&e.length<=15||"Phone must be valid"]}]),E=[e=>!!e||"Field is required"],F=[e=>!!e.length||"File is required",e=>!e.value||!e.length||e[0].size<2e6||"File size should be less than 2 MB!"],W=O(),z=U(()=>W.name.value==="dark"),B=async()=>{u.value=!0;try{if(v.value.length>0){const l=le(ae,"Applications/"+d.value.find(s=>s.name==="email").value+"/"+v.value[0].name);await te(l,v.value[0]),w.value=await oe(l)}const e={name:d.value.find(l=>l.name==="name").value,email:d.value.find(l=>l.name==="email").value,phone:d.value.find(l=>l.name==="phone").value,facility:_.value,message:f.value,fileUrl:w.value};await ne(se(ie(ue,"Applications"),e.email),e),x({message:"Application sent successfully!",type:"success"})}catch(e){console.error("Error occurred while sending application",e),x({message:"Error occurred while sending application, please try again later",type:"error"})}u.value=!1,b()},N=()=>{d.value.forEach(e=>e.value=""),b()};return(e,l)=>{const s=n("v-col"),h=n("v-btn"),y=n("v-row"),P=n("v-text-field"),J=n("v-select"),R=n("v-textarea"),$=n("v-chip"),L=n("v-file-input"),T=n("v-form"),I=n("v-card-text"),M=n("v-tooltip"),S=n("v-card-actions"),j=n("v-card"),G=n("v-dialog");return i(),c(G,{modelValue:k.value,"onUpdate:modelValue":l[4]||(l[4]=t=>k.value=t),persistent:"",width:"600",transition:"dialog-top-transition",fullscreen:!!e.$vuetify.display.smAndDown},{default:o(()=>[a(j,{class:Q(["pa-4",[z.value?"bg-slate-800":"bg-slate-200",e.$vuetify.display.smAndDown?"":"rounded-xl"]])},{default:o(()=>[e.$vuetify.display.smAndDown?(i(),c(y,{key:1},{default:o(()=>[a(s,{cols:"2",align:"start"},{default:o(()=>[a(h,{text:"Back",onClick:N,"prepend-icon":"mdi-arrow-left",variant:"plain"})]),_:1}),a(s,{cols:"8",align:"center"},{default:o(()=>[de]),_:1}),a(s,{cols:"2"})]),_:1})):(i(),c(y,{key:0},{default:o(()=>[a(s,{cols:"2"}),a(s,{cols:"8",align:"center"},{default:o(()=>[re]),_:1}),a(s,{cols:"2",align:"end"},{default:o(()=>[a(h,{icon:"mdi-close",variant:"plain",class:"text-xl",onClick:b})]),_:1})]),_:1})),a(I,null,{default:o(()=>[a(T,{modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=t=>m.value=t)},{default:o(()=>[(i(!0),D(C,null,A(d.value,t=>(i(),c(P,{modelValue:t.value,"onUpdate:modelValue":p=>t.value=p,variant:"outlined",label:t.label,rules:t.rules,class:"mb-5",disabled:u.value},null,8,["modelValue","onUpdate:modelValue","label","rules","disabled"]))),256)),a(J,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=t=>_.value=t),items:X(Y),"item-title":"Name","item-value":"Name",label:"Choose facility",variant:"outlined",rules:E,disabled:u.value,class:"mb-5"},null,8,["modelValue","items","disabled"]),a(R,{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=t=>f.value=t),label:"Tell us about yourself",variant:"outlined",class:"mb-5",disabled:u.value,"auto-grow":"",clearable:"",counter:""},null,8,["modelValue","disabled"]),a(L,{modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=t=>v.value=t),label:"Upload CV",placeholder:"Upload your documents","prepend-icon":"mdi-paperclip","show-size":"",variant:"outlined",disabled:u.value,accept:"application/pdf",rules:F,hint:"In PDF format","persistent-hint":""},{selection:o(({fileNames:t})=>[(i(!0),D(C,null,A(t,p=>(i(),c($,{key:p,class:"me-2",color:"primary",size:"small",label:""},{default:o(()=>[q(Z(p),1)]),_:2},1024))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["modelValue"])]),_:1}),a(S,null,{default:o(()=>[a(y,null,{default:o(()=>[a(s,{cols:"12"},{default:o(()=>[m.value?ee("",!0):(i(),c(M,{key:0,activator:"parent",location:"top","no-overflow":""},{default:o(()=>[q(" Fill required fields ")]),_:1})),V("span",null,[a(h,{size:"large",block:"",text:"Join",color:m.value?"success":"error",disabled:!m.value,variant:"elevated",loading:u.value,onClick:B},null,8,["color","disabled","loading"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","fullscreen"])}}});export{ve as default};
