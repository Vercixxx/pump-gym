import{Z as K,$ as c,a0 as W,a1 as oe,a2 as k,a3 as Ae,a4 as N,a5 as lt,a6 as pt,a7 as Xe,a8 as _,a9 as ht,aa as ct,ab as ut,ac as ge,ad as Je,ae as w,af as y,ag as Z,ah as D,ai as De,aj as ie,ak as be,al as dt,am as vt,an as ft,ao as F,ap as me,aq as G,ar as gt,as as mt,at as _e,au as U,av as yt,aw as V,ax as ee,ay as St,az as te,aA as ye,aB as Ct,aC as wt,aD as Tt,aE as le,aF as pe,aG as Et,aH as At,aI as Qe,aJ as Dt,aK as Ve,aL as bt,aM as X,aN as _t,aO as Oe,aP as Le,aQ as Me,aR as Vt,aS as ue,aT as Ot,aU as Ze,aV as Lt,aW as et,aX as tt,aY as Mt,aZ as Y,a_ as He,a$ as de,b0 as Ht,b1 as Nt,b2 as It,b3 as Rt,b4 as Se,b5 as kt,b6 as xt,b7 as Bt,b8 as Ne,b9 as Ie,ba as Re,bb as ke,bc as rt,bd as Pt,be as Wt,bf as qt,bg as Ft,bh as Ut,bi as jt,bj as zt,bk as he,bl as xe,bm as Be,bn as Pe,bo as Gt,bp as We,bq as qe,br as Ce,bs as Yt,bt as Fe,bu as Kt,bv as $t,bw as Xt,bx as Jt,by as Qt,bz as at,bA as P,bB as Zt,bC as er,bD as Ue,bE as tr,bF as je,bG as ze,bH as rr,bI as ar,bJ as J,bK as Ge,bL as Ye,r as Ke,u as ir,c as $e,b as O,o as R,A as z,g as E,w as A,h as Q,F as ve,B as fe,e as ne,f as B,I as se,i as nr}from"./index-D1Aaj6Hj.js";import{_ as sr}from"./Footer.vue_vue_type_script_setup_true_lang-Bmxq1aRY.js";import{_ as or}from"./_plugin-vue_export-helper-DlAUqK2U.js";var it=function(){function o(a){this.previousNextAction="next",this.parent=a}return o.prototype.isTimelineView=function(){return this.parent.currentView.indexOf("Timeline")!==-1},o.prototype.getContentRows=function(){return[]},o.prototype.refreshHeader=function(){},o.prototype.refreshResourceHeader=function(){K(this.element.querySelector("tbody").lastElementChild.firstElementChild);var a=c("td");a.appendChild(this.parent.resourceBase.createResourceColumn()),W([a],this.element.querySelector("tbody").lastElementChild),this.parent.notify(oe,{})},o.prototype.getDayName=function(a){return this.parent.getDayNames("abbreviated")[a.getDay()]},o.prototype.getDate=function(a){return this.parent.globalize.formatDate(a,{format:"d",calendar:this.parent.getCalendarMode()})},o.prototype.getTime=function(a){return this.parent.isAdaptive?this.parent.activeViewOptions.timeFormat==="HH:mm"||this.parent.activeViewOptions.timeFormat==="HH.mm"?this.parent.globalize.formatDate(a,{format:"H",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(a,{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(a)},o.prototype.getTimelineDate=function(a){var e=this.parent.globalize.formatDate(a,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[a.getDay()];return k(e,"multiple")},o.prototype.createEventTable=function(a){var e=c("div",{className:Ae});return N(this.getEventRows(a),e),e},o.prototype.getEventRows=function(a){for(var e=[],t,r=0;r<a;r++)t=c("div",{className:lt}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&t.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[parseInt(r.toString(),10)].groupIndex.toString()),e.push(t);return e},o.prototype.collapseRows=function(a){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(a.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(a.querySelector("."+Ae)))},o.prototype.createTableLayout=function(a){var e=a||"",t=c("table",{className:pt+" "+e}),r=c("tbody");return t.appendChild(r),t},o.prototype.setAriaAttributes=function(a){a.setAttribute("role","grid"),a.setAttribute("aria-label",this.getLabelText(this.parent.currentView))},o.prototype.createColGroup=function(a,e){var t=e.length;e[0]&&e[0].colSpan&&(t=e.map(function(s){return s.colSpan}).reduce(function(s,n){return s+n}));for(var r=c("colgroup"),i=0;i<t;i++)r.appendChild(c("col"));W([r],a)},o.prototype.getScrollXIndent=function(a){return a.offsetHeight-a.clientHeight>0?Xe():0},o.prototype.scrollTopPanel=function(a){this.getDatesHeaderElement().firstElementChild.scrollLeft=a.scrollLeft},o.prototype.scrollHeaderLabels=function(a){for(var e=this.element.querySelector(".e-date-header-wrap table"),t=e.offsetWidth/e.querySelectorAll("colgroup col").length,r=function(u,g){for(var d,T=0,S=0,m=g?-a.scrollLeft:a.scrollLeft,b=0,C=u;b<C.length;b++){var L=C[b];if(S+=parseInt(L.getAttribute("colSpan"),10),S>Math.floor(m/t)){d=L;break}T+=L.offsetWidth}y(d)||(d.children[0].style[g?"right":"left"]=m-T+"px")},i=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"],s=0,n=i;s<n.length;s++){var p=n[s],l=[].slice.call(this.element.querySelectorAll(p));if(l.length>0){for(var h=0,v=l;h<v.length;h++){var f=v[h];f.children[0].style[this.parent.enableRtl?"right":"left"]=""}r(l,this.parent.enableRtl)}}},o.prototype.addAttributes=function(a,e){a.template&&N(a.template,e),a.colSpan&&e.setAttribute("colspan",a.colSpan.toString()),a.className&&_([e],a.className)},o.prototype.getHeaderBarHeight=function(){var a=2;if(this.parent.headerModule&&(a+=ht(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){var e=this.parent.element.querySelector("."+ct);e&&(a+=e.offsetHeight)}return a},o.prototype.renderPanel=function(a){a===ut?W([this.element],this.parent.element.querySelector("."+ge)):this.parent.element.querySelector("."+ge).appendChild(this.element)},o.prototype.setPanel=function(a){this.element=a},o.prototype.getPanel=function(){return this.element},o.prototype.getDatesHeaderElement=function(){return this.element.querySelector("."+Je)},o.prototype.getDateSlots=function(a,e){return[]},o.prototype.generateColumnLevels=function(){return[]},o.prototype.getColumnLevels=function(){return this.colLevels},o.prototype.highlightCurrentTime=function(){},o.prototype.getStartDate=function(){return this.renderDates[0]},o.prototype.getEndDate=function(){return this.renderDates[this.renderDates.length-1]},o.prototype.startDate=function(){return this.renderDates[0]},o.prototype.endDate=function(){return w(this.renderDates[this.renderDates.length-1],1)},o.prototype.getStartHour=function(){var a=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return y(a)&&(a=new Date(2e3,0,0,0)),a},o.prototype.getEndHour=function(){var a=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return y(a)&&(a=new Date(2e3,0,0,0)),a},o.prototype.isCurrentDate=function(a){return a.setHours(0,0,0,0)===new Date(this.parent.currentTimezoneDate).setHours(0,0,0,0)},o.prototype.isCurrentMonth=function(a){return this.parent.activeViewOptions.displayDate||this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeView.getStartDate().getTime()<=this.parent.getCurrentTime().getTime()&&this.parent.activeView.getEndDate().getTime()>=this.parent.getCurrentTime().getTime():a.getFullYear()===this.parent.getCurrentTime().getFullYear()&&a.getMonth()===this.parent.getCurrentTime().getMonth()},o.prototype.isWorkDay=function(a,e){return e===void 0&&(e=this.parent.activeViewOptions.workDays),e.indexOf(a.getDay())>=0},o.prototype.isWorkHour=function(a,e,t,r){return y(e)||y(t)?!1:(e.setMilliseconds(0),t.setMilliseconds(0),!(Z(a)<Z(e)||Z(a)>=Z(t)||!this.isWorkDay(a,r)))},o.prototype.getRenderDates=function(a){var e=[];if(this.parent.currentView==="Week"||this.parent.currentView==="TimelineWeek")for(var t=D(this.parent.selectedDate),r=De(t,this.parent.activeViewOptions.firstDayOfWeek),i=0,s=ie*this.parent.activeViewOptions.interval;i<s;i++)(this.parent.activeViewOptions.showWeekend||this.isWorkDay(r,a))&&e.push(r),r=w(r,1);else if(this.parent.currentView==="WorkWeek"||this.parent.currentView==="TimelineWorkWeek")for(var r=De(D(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),i=0,n=ie*this.parent.activeViewOptions.interval;i<n;i++)this.isWorkDay(r,a)&&e.push(r),r=w(r,1);else{var p=this.parent.currentView==="Agenda"?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval,r=D(this.parent.selectedDate);do(this.parent.activeViewOptions.showWeekend||this.isWorkDay(r,a))&&e.push(r),r=w(r,1);while(p!==e.length)}return a||(this.renderDates=e),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),e},o.prototype.getNextPreviousDate=function(a){if(this.previousNextAction=a,this.parent.currentView==="Day"||this.parent.currentView==="TimelineDay")if(this.parent.activeViewOptions.showWeekend){var e=this.parent.activeViewOptions.interval;return w(this.parent.selectedDate,a==="next"?e:-e)}else{var t=void 0;if(a==="next")for(t=w(this.renderDates.slice(-1)[0],1);!this.isWorkDay(t);)t=w(t,1);else{t=w(this.renderDates[0],-1);var r=0;do this.isWorkDay(t)&&(r+=1),this.parent.activeViewOptions.interval!==r&&(t=w(t,-1));while(this.parent.activeViewOptions.interval!==r)}return t}var i=a==="next"?ie:-ie;return w(this.parent.selectedDate,i*this.parent.activeViewOptions.interval)},o.prototype.getLabelText=function(a){var e=a.charAt(0).toLowerCase()+a.substring(1);return this.parent.localeObj.getConstant(e)+" of "+k(this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"long",calendar:this.parent.getCalendarMode()}),"single")},o.prototype.getDateRangeText=function(){if(this.parent.isAdaptive){var a=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return k(this.parent.globalize.formatDate(this.parent.selectedDate,{format:a,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.renderDates[0],this.renderDates[this.renderDates.length-1])},o.prototype.formatDateRange=function(a,e){var t=this.parent.globalize,r=this.parent.getCalendarMode();if(a===e&&(e=null),!y(this.parent.activeViewOptions.dateFormat)){var i="";return e?(i=t.formatDate(a,{format:this.parent.activeViewOptions.dateFormat,calendar:r})+" - "+t.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:r}),k(i,"multiple")):(i=t.formatDate(a,{format:this.parent.activeViewOptions.dateFormat,calendar:r}),k(i,"multiple"))}var s,n;if(this.parent.locale==="en"||this.parent.locale==="en-US"?n=be("dateFormats.long",dt(r)):n=be("main."+this.parent.locale+".dates.calendars."+r+".dateFormats.long",vt),!e)return k(t.formatDate(a,{format:n,calendar:r}),"single");var p=n.trim().toLocaleLowerCase();return p.substr(0,1)==="d"?a.getFullYear()===e.getFullYear()?a.getMonth()===e.getMonth()?s=t.formatDate(a,{format:"dd",calendar:r})+" - "+t.formatDate(e,{format:"dd MMMM yyyy",calendar:r}):s=t.formatDate(a,{format:"dd MMM",calendar:r})+" - "+t.formatDate(e,{format:"dd MMM yyyy",calendar:r}):s=t.formatDate(a,{format:"dd MMM yyyy",calendar:r})+" - "+t.formatDate(e,{format:"dd MMM yyyy",calendar:r}):p.substr(0,1)==="m"?a.getFullYear()===e.getFullYear()?a.getMonth()===e.getMonth()?s=t.formatDate(a,{format:"MMMM dd",calendar:r})+" - "+t.formatDate(e,{format:"dd, yyyy",calendar:r}):s=t.formatDate(a,{format:"MMM dd",calendar:r})+" - "+t.formatDate(e,{format:"MMM dd, yyyy",calendar:r}):s=t.formatDate(a,{format:"MMM dd, yyyy",calendar:r})+" - "+t.formatDate(e,{format:"MMM dd, yyyy",calendar:r}):s=t.formatDate(a,{format:n,calendar:r})+" - "+t.formatDate(e,{format:n,calendar:r}),k(s,"multiple")},o.prototype.getMobileDateElement=function(a,e){var t=c("div",{className:e,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(a,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+k(this.parent.globalize.formatDate(a,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"});return t},o.prototype.setResourceHeaderContent=function(a,e,t){if(t===void 0&&(t=St),this.parent.activeViewOptions.resourceHeaderTemplate){var r={resource:e.resource,resourceData:e.resourceData},i=this.parent.element.id+"_",s=this.parent.activeViewOptions.resourceHeaderTemplateName,n=i+s+"resourceHeaderTemplate",p=[].slice.call(this.parent.getResourceHeaderTemplate()(r,this.parent,"resourceHeaderTemplate",n,!1));N(p,a)}else{var l=c("div",{className:t});this.parent.sanitize(e.resourceData[e.resource.textField],l),a.appendChild(l)}},o.prototype.renderResourceMobileLayout=function(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())},o.prototype.addAutoHeightClass=function(a){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&_([a],ft)},o.prototype.getColElements=function(){return[].slice.call(this.element.querySelectorAll("."+F+" col, ."+me+" col"))},o.prototype.setColWidth=function(a){if(this.isTimelineView()){var e=this.getColElements(),t=this.element.querySelector("."+G+" tbody"),r=gt(t)/(e.length/2);if(a.offsetHeight!==a.clientHeight){var i=this.parent.element.querySelector("."+mt);!y(i)&&i.offsetHeight!==a.clientHeight&&_e(i,{height:U(a.clientHeight)})}var s="."+te+",."+ye+",."+Ct+",."+wt+",."+Tt,n=[].slice.call(this.element.querySelectorAll(s));n.forEach(function(p){var l=y(p.getAttribute("colspan"))?"1":p.getAttribute("colspan"),h=parseInt(l,10);_e(p,{width:U(r*h)})})}},o.prototype.resetColWidth=function(){for(var a=this.getColElements(),e=0,t=a;e<t.length;e++){var r=t[e];r.style.width=""}},o.prototype.getContentAreaElement=function(){return this.element.querySelector("."+F)},o.prototype.wireExpandCollapseIconEvents=function(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1)for(var a=[].slice.call(this.element.querySelectorAll("."+yt)),e=0,t=a;e<t.length;e++){var r=t[e];V.clearEvents(r),V.add(r,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}},o.prototype.scrollToDate=function(a){if(!(["Month","TimelineMonth"].indexOf(this.parent.currentView)===-1||y(a))){var e=this.getContentAreaElement(),t=new Date(D(new Date(+a)).getTime()).getTime(),r=e.querySelector("."+ee+'[data-date="'+t+'"]');this.parent.currentView==="Month"&&r&&(e.scrollWidth>e.clientWidth&&(this.parent.enableRtl?e.scrollLeft=-(this.parent.getContentTable().offsetWidth-r.offsetLeft-r.offsetWidth):e.scrollLeft=r.offsetLeft),e.scrollTop=r.offsetTop),this.parent.currentView==="TimelineMonth"&&r&&(this.parent.enableRtl?e.scrollLeft=-(this.parent.getContentTable().offsetWidth-r.offsetLeft-r.offsetWidth):e.scrollLeft=r.offsetLeft)}},o.prototype.setPersistence=function(){if(this.parent.enablePersistence){var a=this.element.querySelector(".e-content-wrap");y(a)||(this.parent.scrollLeft=a.scrollLeft,this.parent.scrollTop=a.scrollTop)}},o.prototype.retainScrollPosition=function(){if(this.parent.enablePersistence){var a=this.parent.element.querySelector(".e-content-wrap");!y(a)&&!y(this.parent.scrollLeft)&&!y(this.parent.scrollTop)&&(a.scrollTop=this.parent.scrollTop,a.scrollLeft=this.parent.scrollLeft)}},o.prototype.getViewStartDate=function(){var a=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(a=this.parent.resourceBase.getResourceRenderDates()[0]),a},o.prototype.getViewEndDate=function(){var a=w(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(a=w(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),a},o.prototype.getAdjustedDate=function(a){return!this.parent.activeViewOptions.timeScale.enable||this.parent.currentView==="Month"||this.parent.currentView==="TimelineYear"&&this.parent.activeViewOptions.group.resources.length===0?new Date(a.setHours(0,0,0,0)):this.parent.currentView==="TimelineYear"&&this.parent.activeViewOptions.group.resources.length>0?(a.setHours(0,0,0,0),new Date(a.setDate(1))):null},o.prototype.resetColLevels=function(){this.parent.resourceBase.expandedResources=[];for(var a=this.parent.virtualScrollModule.getRenderedCount(),e=this.parent.activeViewOptions.group.byDate?this.colLevels[0]:this.parent.resourceBase.renderedResources,t=0,r=0;r<e.length&&!(t>=a);r++)t+=e[parseInt(r.toString(),10)].colSpan,this.parent.resourceBase.expandedResources.push(e[parseInt(r.toString(),10)]);this.parent.activeViewOptions.group.byDate?(this.colLevels[0]=this.parent.resourceBase.expandedResources,this.parent.virtualScrollModule.setRenderedDates(this.parent.resourceBase.expandedResources)):(this.colLevels[this.colLevels.length-2]=this.parent.resourceBase.expandedResources,this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources),this.parent.currentView!=="Month"&&(this.colLevels[this.colLevels.length-1]=this.colLevels[this.colLevels.length-1].slice(0,t),this.parent.resourceBase.expandedResources=this.colLevels[this.colLevels.length-1])},o.prototype.destroy=function(){this.element&&this.element.parentNode&&K(this.element),this.element=null,this.renderDates=null,this.colLevels=null},o}(),lr=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nt=function(o){lr(a,o);function a(e){var t=o.call(this,e)||this;return t.viewClass="e-day-view",t.isInverseTableSelect=!0,t.baseCssClass="e-vertical-view",t.appointment=null,t}return a.prototype.getModuleName=function(){return"verticalView"},a.prototype.addEventListener=function(){this.parent.on(le,this.scrollUiUpdate,this),this.parent.on(pe,this.renderEvents,this)},a.prototype.removeEventListener=function(){this.parent&&(this.parent.off(le,this.scrollUiUpdate),this.parent.off(pe,this.renderEvents))},a.prototype.renderEvents=function(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new Et(this.parent):new At(this.parent),this.appointment.renderAppointments(),this.parent.notify(Qe,{})},a.prototype.onContentScroll=function(e){this.parent.removeNewEventElement();var t=e.target;this.parent.notify(Dt,e),this.scrollLeftPanel(t),this.scrollTopPanel(t),this.parent.isAdaptive||(this.parent.uiStateValues.top=t.scrollTop),this.parent.uiStateValues.left=t.scrollLeft,y(this.parent.quickPopup)||this.parent.quickPopup.quickPopupHide(),this.setPersistence()},a.prototype.onAdaptiveMove=function(e){this.parent.uiStateValues.action&&e.preventDefault()},a.prototype.onAdaptiveScroll=function(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)},a.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();y(t)||(t.scrollTop=e.scrollTop)},a.prototype.scrollUiUpdate=function(e){if(this.parent){var t=this.parent.element.querySelector("."+me),r=this.getHeaderBarHeight(),i=this.getLeftPanelElement(),s=this.getScrollableElement(),n=this.getDatesHeaderElement(),p=this.parent.element.offsetHeight-r-n.offsetHeight;this.setContentHeight(s,i,p),this.setColWidth(s);var l=Xe();n.firstElementChild.style[e.cssProperties.rtlBorder]="",n.style[e.cssProperties.rtlPadding]="";var h=this.parent.enableAllDayScroll?!(s.offsetWidth-s.clientWidth<=t.offsetWidth-t.clientWidth&&t.classList.contains("e-all-day-scroll")):!0;s.offsetWidth-s.clientWidth>0&&h?(n.firstElementChild.style[e.cssProperties.border]=l>0?"1px":"0px",n.style[e.cssProperties.padding]=l>0?l-1+"px":"0px"):(n.firstElementChild.style[e.cssProperties.border]="",n.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.currentView.indexOf("Timeline")>-1&&(s.scrollTop=this.parent.uiStateValues.top),this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(i&&(i.scrollTop=this.parent.uiStateValues.top),s.scrollTop=this.parent.uiStateValues.top,s.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition()}},a.prototype.setContentHeight=function(e,t,r){this.parent.isAdaptive&&!this.isTimelineView()?e.style.height=this.parent.height==="auto"?"auto":U(r):(y(t)||(t.style.height=this.parent.height==="auto"?"auto":U(r-this.getScrollXIndent(e))),e.style.height=this.parent.height==="auto"?"auto":U(r))},a.prototype.scrollToWorkHour=function(){if(this.parent.workHours.highlight){var e=this.element.querySelector("."+Ve);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}},a.prototype.scrollToHour=function(e,t){var r=this.parent.getStartEndTime(e);if(!y(t)){var i=this.element.querySelector("."+te+'[data-date="'+new Date(D(t)).getTime()+'"]');if(i)if(this.parent.enableRtl){var s=this.element.querySelector("."+G);this.getScrollableElement().scrollLeft=-(s.offsetWidth-i.offsetLeft-i.offsetWidth)}else this.getScrollableElement().scrollLeft=i.offsetLeft}y(r)||(this.getScrollableElement().scrollTop=this.getTopFromDateTime(r))},a.prototype.scrollToDate=function(e){this.scrollToHour(null,e)},a.prototype.generateColumnLevels=function(){var e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=[];if(this.parent.activeViewOptions.group.resources.length>0){if(t=this.parent.resourceBase.generateResourceLevels(e),this.parent.activeViewOptions.group.hideNonWorkingDays)for(;t[0].length===0;)this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(this.previousNextAction)},!0),this.parent.activeView.getRenderDates(),this.parent.headerModule&&(this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.headerModule.updateDateRange()),e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=this.parent.resourceBase.generateResourceLevels(e);if(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var r=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],i=r.resourceData[r.resource.startHourField],s=r.resourceData[r.resource.endHourField],n=this.getDateSlots(r.renderDates,r.workDays,i,s);t=[n]}}else t.push(e);return this.colLevels=t,t},a.prototype.getDateSlots=function(e,t,r,i){r===void 0&&(r=this.parent.workHours.start),i===void 0&&(i=this.parent.workHours.end);for(var s=[],n=this.parent.getStartEndTime(r),p=this.parent.getStartEndTime(i),l=0,h=e;l<h.length;l++){var v=h[l],f=[te];this.isCurrentDate(v)&&f.push(bt),s.push({date:v,type:"dateHeader",className:f,colSpan:1,workDays:t,startHour:new Date(+n),endHour:new Date(+p)})}return s},a.prototype.isWorkHourRange=function(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()},a.prototype.highlightCurrentTime=function(){var e=this;if(!(this.parent.activeViewOptions.headerRows.length>0&&this.parent.activeViewOptions.headerRows.slice(-1)[0].option!=="Hour")){var t=this.parent.getCurrentTime();if(this.parent.showTimeIndicator&&this.isWorkHourRange(t)){var r=this.getCurrentTimeIndicatorIndex();if(r.length>0){var i=[].slice.call(this.element.querySelectorAll("."+ee));if(i.length>0&&this.changeCurrentTimePosition(),y(this.currentTimeIndicatorTimer)){var s=X-(t.getSeconds()*1e3+t.getMilliseconds());s<=X-1e3&&window.setTimeout(function(){y(e.currentTimeIndicatorTimer)||(e.clearCurrentTimeIndicatorTimer(),e.changeCurrentTimePosition(),e.updateCurrentTimeIndicatorTimer())},s),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer()}else this.clearCurrentTimeIndicatorTimer()}},a.prototype.getCurrentTimeIndicatorIndex=function(){var e=[];if(!y(this.parent.resourceBase)&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var t=0,r=D(this.parent.getCurrentTime());if(this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.byDate)for(var i=0,s=this.parent.resourceBase.expandedResources;i<s.length;i++){var n=s[i];D(n.date).getTime()===r.getTime()&&e.push(t),t+=1}else for(var p=0,l=this.parent.resourceBase.renderedResources;p<l.length;p++){var n=l[p],h=this.parent.getIndexOfDate(n.renderDates,r);if(h>=0){var v=this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*h+t:t+h;e.push(v)}t+=this.parent.activeViewOptions.group.byDate?1:n.renderDates.length}}else{var f=this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates,h=this.parent.getIndexOfDate(f,D(this.parent.getCurrentTime()));h>=0&&e.push(h)}return e},a.prototype.clearCurrentTimeIndicatorTimer=function(){y(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())},a.prototype.updateCurrentTimeIndicatorTimer=function(){var e=this;this.currentTimeIndicatorTimer=window.setInterval(function(){e.changeCurrentTimePosition()},X)},a.prototype.removeCurrentTimeIndicatorElements=function(){for(var e="."+Oe+",."+Le+",."+Me,t=[].slice.call(this.element.querySelectorAll(e)),r=0,i=t;r<i.length;r++){var s=i[r];K(s)}},a.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),t=this.parent.getContentTable().rows[0],r=this.getTopFromDateTime(this.parent.getCurrentTime()),i=U(r),s=Math.floor(r/t.cells[0].offsetHeight),n=this.getLeftPanelElement(),p=[].slice.call(n.querySelectorAll("tr"));if(!(y(s)||isNaN(s)||s===p.length)){for(var l=[].slice.call(this.element.querySelectorAll("."+_t)),h=0,v=e[0];h<v;h++)l[parseInt(h.toString(),10)].appendChild(c("div",{className:Oe,styles:"top:"+i}));for(var f=0,u=e;f<u.length;f++){var g=u[f];l[parseInt(g.toString(),10)].appendChild(c("div",{className:Le,styles:"top:"+i}))}var d=c("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:Me,styles:"top:"+i});s<=p.length&&(Vt(n.querySelectorAll("."+ue),ue),p[parseInt(s.toString(),10)]&&_([p[parseInt(s.toString(),10)].lastElementChild],ue),W([d],n),d.style.top=U(d.offsetTop-d.offsetHeight/2))}}},a.prototype.getTopFromDateTime=function(e){var t=this.getStartHour(),r=(e.getHours()-t.getHours())*60+(e.getMinutes()-t.getMinutes());return r*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},a.prototype.getWorkCellHeight=function(){return parseFloat(Ot(this.element.querySelector("."+ee)).toFixed(2))},a.prototype.getTdContent=function(e,t,r){var i,s=c("div"),n="",p=this.parent.element.id+"_";switch(t){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){n="dateHeaderTemplate";var l={date:e,type:t},h=this.parent.activeViewOptions.dateHeaderTemplateName;i=[].slice.call(this.parent.getDateHeaderTemplate()(l,this.parent,n,p+h+n,!1))}else s.innerHTML=this.parent.activeView.isTimelineView()?'<span class="e-header-date e-navigate">'+this.getTimelineDate(e)+"</span>":'<div class="e-header-day">'+k(this.getDayName(e),"single")+"</div>"+('<div class="e-header-date e-navigate" role="link">'+this.getDate(e)+"</div>"),i=[].slice.call(s.childNodes);break;case"majorSlot":if(this.parent.activeViewOptions.timeScale.majorSlotTemplate){n="majorSlotTemplate";var l={date:e,type:t};i=[].slice.call(this.parent.getMajorSlotTemplate()(l,this.parent,n,p+n,!1))}else s.innerHTML="<span>"+this.getTime(e)+"</span>",i=[].slice.call(s.childNodes);break;case"minorSlot":if(this.parent.activeViewOptions.timeScale.minorSlotTemplate){n="minorSlotTemplate";var l={date:e,type:t};i=[].slice.call(this.parent.getMinorSlotTemplate()(l,this.parent,n,p+n,!1))}else i=[].slice.call(s.childNodes);break;case"alldayCells":if(this.parent.activeViewOptions.cellTemplate){var h=this.parent.activeViewOptions.cellTemplateName;n="cellTemplate";var l={date:e,type:t,groupIndex:r};i=[].slice.call(this.parent.getCellTemplate()(l,this.parent,n,p+h+n,!1))}break}return i},a.prototype.refreshHeader=function(){K(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(oe,{})},a.prototype.renderLayout=function(e){this.setPanel(c("div",{className:Ze}));var t=[this.baseCssClass,this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||_([this.element],[Lt,this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&t.push(Ut),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(jt),this.renderPanel(e),_([this.element],t),this.element.appendChild(this.createTableLayout(et)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+tt)&&this.renderResourceMobileLayout(),this.parent.notify(oe,{})},a.prototype.renderHeader=function(){var e=c("tr"),t=c("td");if(t.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){var r=c("td",{className:Mt});r.appendChild(this.renderLeftIndent()),e.appendChild(r)}e.appendChild(t),W([e],this.element.querySelector("tbody"))},a.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=Y([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=c("tr"),t=c("td");if(this.parent.isAdaptive){t.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");var r=c("div",{className:He});this.parent.activeViewOptions.timeScale.enable&&r.appendChild(this.renderTimeCells()),r.appendChild(this.renderContentArea()),t.appendChild(r),V.add(r,"scroll",this.onAdaptiveScroll,this),V.add(r,de.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(t)}else{var i=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var s=this.renderContentArea();if(t.appendChild(s),this.parent.activeViewOptions.timeScale.enable){var n=c("td");n.appendChild(this.renderTimeCells()),e.appendChild(n)}e.appendChild(t),this.parent.virtualScrollModule&&(this.colLevels=i,this.parent.virtualScrollModule.renderVirtualTrack(s))}this.element.querySelector("tbody").appendChild(e)},a.prototype.renderLeftIndent=function(){for(var e=c("div",{className:Ht}),t=this.createTableLayout(),r=c("tr"),i=this.colLevels.length,s,n=0;n<i;n++){var p=r.cloneNode(),l={className:[this.colLevels[parseInt(n.toString(),10)][0]&&this.colLevels[parseInt(n.toString(),10)][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&l.className.indexOf(te)!==-1){l.className.push(Nt);var h=this.parent.getWeekNumberContent(this.renderDates);l.template=[c("span",{innerHTML:""+h,attrs:{title:this.parent.localeObj.getConstant("week")+" "+h}})]}s=this.createTd(l),this.parent.renderHeaderIndentTemplate(l,s),p.appendChild(s),t.querySelector("tbody").appendChild(p)}var v=r.cloneNode(),f=c("div",{attrs:{tabindex:"0",role:"list",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":"Expand section"},className:It+" "+Rt+" "+Se+" "+kt}),u={className:[Ne],type:"emptyCells"};return s=this.createTd(u),s.appendChild(f),this.parent.renderHeaderIndentTemplate(u,s),v.appendChild(s),t.querySelector("tbody").appendChild(v),e.appendChild(t),e},a.prototype.renderDatesHeader=function(){var e=c("div",{className:Je}),t=c("div",{className:me});e.appendChild(t);for(var r=this.createTableLayout(),i=c("tr",{className:xt}),s=this.colLevels.length,n=this.colLevels[s-1],p=0;p<s;p++){for(var l=i.cloneNode(),h=this.colLevels[parseInt(p.toString(),10)],v=0;v<h.length;v++)l.appendChild(this.createTd(h[parseInt(v.toString(),10)]));r.querySelector("tbody").appendChild(l)}return this.createAllDayRow(r,n),this.createColGroup(r,n),t.appendChild(r),e},a.prototype.createAllDayRow=function(e,t){for(var r=c("tr",{className:Bt}),i=0;i<t.length;i++){var s=Y({},t[parseInt(i.toString(),10)]);s.className=[Ne],s.type="alldayCells";var n=this.createTd(s);n.setAttribute("data-date",s.date.getTime().toString()),y(s.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&n.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):n.setAttribute("data-group-index",""+s.groupIndex),this.wireCellEvents(n),r.appendChild(n)}e.querySelector("tbody").appendChild(r);var p=c("thead");p.appendChild(this.parent.eventBase.createEventWrapper("allDay")),W([p],e)},a.prototype.createTd=function(e){var t=c("td");if(this.addAttributes(e,t),e.date&&e.type){var r=this.getTdContent(e.date,e.type,e.groupIndex);r&&r.length&&N(r,t)}this.parent.isMinMaxDate(D(new Date(""+e.date)))||_([t],Ie),e.type==="resourceHeader"&&this.setResourceHeaderContent(t,e),e.type==="dateHeader"&&e.className.indexOf(te)>=0&&(t.setAttribute("data-date",e.date.getTime().toString()),y(e.groupIndex)||t.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(t));var i={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(Re,i),t},a.prototype.wireCellEvents=function(e){V.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)},a.prototype.wireMouseEvents=function(e){V.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||V.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},a.prototype.renderTimeCells=function(){var e=this,t=c("div",{className:ke}),r=this.createTableLayout(),i=c("tr"),s=function(n){n.type=n.first?"majorSlot":"minorSlot",n.className=n.last?[zt,ye]:[ye];var p=i.cloneNode(),l={date:n.date,type:n.type,className:n.className};return p.appendChild(e.createTd(l)),r.querySelector("tbody").appendChild(p),n};return this.getTimeSlotRows(s),t.appendChild(r),t},a.prototype.renderContentArea=function(){var e=c("div",{className:F}),t=this.createTableLayout(G);return this.setAriaAttributes(t),this.addAutoHeightClass(t),this.renderContentTable(t),this.createColGroup(t,this.colLevels.slice(-1)[0]),e.appendChild(t),this.wireCellEvents(t.querySelector("tbody")),V.add(e,"scroll",this.onContentScroll,this),V.add(e,de.touchMoveEvent,this.onAdaptiveMove,this),e},a.prototype.renderContentTable=function(e){var t=e.querySelector("tbody");N(this.getContentRows(),t),this.renderContentTableHeader(e)},a.prototype.getContentRows=function(){var e=this,t=[],r=c("tr"),i=c("td",{attrs:{"aria-selected":"false"}}),s=function(n){for(var p=r.cloneNode(),l=0,h=e.colLevels[e.colLevels.length-1];l<h.length;l++){var v=h[l],f=e.createContentTd(v,n,i);p.appendChild(f)}return t.push(p),n};return this.getTimeSlotRows(s),t},a.prototype.createContentTd=function(e,t,r){var i=r.cloneNode();e.colSpan&&i.setAttribute("colspan",e.colSpan.toString());var s=this.getContentTdClass(t),n=D(e.date);this.parent.isMinMaxDate(n)||s.push(Ie),rt(n,Z(t.date));var p="workCells";if(e.className.indexOf(Pt)!==-1&&(s.push(Wt),p="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(n,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(n,e.workDays))&&s.push(Ve),_([i],s),this.parent.activeViewOptions.cellTemplate){var l={date:n,type:p,groupIndex:e.groupIndex},h=this.parent.element.id+"_",v=this.parent.activeViewOptions.cellTemplateName,f=h+v+"cellTemplate",u=[].slice.call(this.parent.getCellTemplate()(l,this.parent,"cellTemplate",f,!1));N(u,i)}i.setAttribute("data-date",n.getTime().toString());var g="full";if(this.parent.activeViewOptions.timeScale.enable){var T=this.parent.globalize.formatDate(n,{type:"dateTime",skeleton:g,calendar:this.parent.getCalendarMode()}),S=this.parent.globalize.formatDate(this.getEndDateFromStartDate(n),{type:"dateTime",skeleton:g,calendar:this.parent.getCalendarMode()});i.setAttribute("aria-label",T+" "+this.parent.localeObj.getConstant("endAt")+" "+S)}else{var d=this.parent.globalize.formatDate(e.date,{skeleton:g,calendar:this.parent.getCalendarMode()});i.setAttribute("aria-label",d)}if(!y(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var m=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;i.setAttribute("data-group-index",""+m)}var b={elementType:p,element:i,date:n,groupIndex:e.groupIndex};return this.parent.trigger(Re,b),i},a.prototype.getContentTdClass=function(e){return e.last?[ee]:[ee,qt]},a.prototype.renderContentTableHeader=function(e){var t=c("thead");t.appendChild(this.parent.eventBase.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&t.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),W([t],e)},a.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+He):this.getContentAreaElement()},a.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+ke)},a.prototype.getEndDateFromStartDate=function(e){var t=this.parent.activeViewOptions.timeScale.interval*X,r=t/this.parent.activeViewOptions.timeScale.slotCount,i=new Date(e.getTime());return i.setMilliseconds(i.getMilliseconds()+r),i},a.prototype.getTimeSlotRows=function(e){var t=[],r=this.getStartHour(),i=this.getEndHour(),s=this.parent.activeViewOptions.timeScale.interval*X,n=s/this.parent.activeViewOptions.timeScale.slotCount,p=Math.round(he/n),l=r.getTime(),h=i.getTime();if(l!==h){var v=r.getTimezoneOffset()!==i.getTimezoneOffset()?h-l-36e5:h-l;p=Math.round(v/n)}this.parent.activeViewOptions.timeScale.enable||(p=1);for(var f=this.parent.getStartEndTime(this.parent.workHours.start),u=this.parent.getStartEndTime(this.parent.workHours.end),g=0;g<p;g++){var d=new Date(l+n*g);if(Ft(d)||new Date(l).getTimezoneOffset()!==d.getTimezoneOffset()){var T=new Date(l).getTimezoneOffset()-d.getTimezoneOffset();d=new Date(d.getTime()-1e3*60*T)}var S=g%(s/n),m={date:new Date(""+d),startHour:f,endHour:u,first:S===0,middle:S<this.parent.activeViewOptions.timeScale.slotCount-1,last:S===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(m),t.push(m)}return t},a.prototype.getAdjustedDate=function(e){if(this.parent.activeViewOptions.timeScale.enable){for(var t=this.getTimeSlotRows(),r=new Date(new Date(t[0].date.getTime()).setHours(e.getHours(),e.getMinutes(),e.getMilliseconds())),i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].date.getTime()>r.getTime())return e.setHours(t[i-1].date.getHours(),t[i-1].date.getMinutes(),t[i-1].date.getMilliseconds()),new Date(e)}else return new Date(e.setHours(0,0,0,0));return null},a.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&(this.clearCurrentTimeIndicatorTimer(),this.element)){this.appointment&&(this.appointment.destroy(),this.appointment=null);var e=this.getContentAreaElement();e&&(V.remove(e,"scroll",this.onContentScroll),V.remove(e,de.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),o.prototype.destroy.call(this)}},a}(it),pr=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hr=function(o){pr(a,o);function a(e){var t=o.call(this,e)||this;return t.viewClass="e-day-view",t}return a.prototype.getModuleName=function(){return"day"},a}(nt),cr=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ur=function(o){cr(a,o);function a(e){var t=o.call(this,e)||this;return t.viewClass="e-week-view",t}return a.prototype.startDate=function(){return this.getViewStartDate()},a.prototype.endDate=function(){return this.getViewEndDate()},a.prototype.getModuleName=function(){return"week"},a}(nt),dr=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vr=function(o){dr(a,o);function a(e){return o.call(this,e)||this}return a.prototype.createAgendaContentElement=function(e,t,r,i,s){var n=this,p,l=this.parent.eventFields;if(e==="noEvents"){var h=[{subject:this.parent.localeObj.getConstant("noEvents")}];p=xe.createList(this.parent.createElement,h,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:'<div class="'+Be+'">'+this.parent.localeObj.getConstant("noEvents")+"</div>"}),p.querySelector(".e-agenda-item").children.length===0&&p.firstElementChild.appendChild(c("div",{className:Be,innerHTML:this.parent.localeObj.getConstant("noEvents")}))}else{p=xe.createList(this.parent.createElement,t,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass});var v=[].slice.call(p.children);v.forEach(function(f,u){var g=c("div",{className:Pe,attrs:{"data-id":"Appointment_"+t[parseInt(u.toString(),10)][""+n.parent.eventFields.id],"data-guid":t[parseInt(u.toString(),10)].Guid,role:"button",tabindex:"0","aria-disabled":n.parent.eventBase.getReadonlyAttribute(t[parseInt(u.toString(),10)]),"aria-label":n.parent.getAnnouncementString(t[parseInt(u.toString(),10)])}});y(s)||g.setAttribute("data-group-index",s.toString()),n.parent.eventBase.applyResourceColor(g,t[parseInt(u.toString(),10)],"borderColor",i);var d;if(y(n.parent.activeViewOptions.eventTemplate))d=n.createAppointment(t[parseInt(u.toString(),10)]);else{_([g],Gt);var T=n.parent.element.id+"_",S=n.parent.activeViewOptions.eventTemplateName,m=T+S+"eventTemplate";if(d=n.parent.getAppointmentTemplate()(t[parseInt(u.toString(),10)],n.parent,"eventTemplate",m,!1),!y(t[parseInt(u.toString(),10)][l.recurrenceRule])){var b=t[parseInt(u.toString(),10)][l.id]===t[parseInt(u.toString(),10)][l.recurrenceID]?We:qe;g.appendChild(c("div",{className:Se+" "+b}))}}N([].slice.call(d),g),Ce(f),f.appendChild(g);var C={data:Y({},t[parseInt(u.toString(),10)],null,!0),element:f,cancel:!1};n.parent.trigger(Yt,C,function(L){L.cancel&&K(f)})})}return r.appendChild(p),(this.parent.currentView==="MonthAgenda"&&this.parent.activeViewOptions.group.resources.length>0||this.parent.currentView==="Agenda")&&_([r],Fe),this.parent.renderTemplates(),r},a.prototype.createAppointment=function(e){var t=this.parent.eventFields,r=e[t.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),i=e[t.location]||this.parent.eventSettings.fields.location.default,s=c("div",{className:Kt});!y(i)&&i!==""&&(r+=",");var n=c("div",{className:$t});if(this.parent.sanitize(r,n),s.appendChild(n),!y(i)&&i!==""){var p=c("div",{className:Xt});this.parent.sanitize(i,p),s.appendChild(p)}if(!y(e[t.recurrenceRule])){var l=e[t.id]===e[t.recurrenceID]?We:qe;s.appendChild(c("div",{className:Se+" "+l}))}var h=e[t.startTime],v=e[t.endTime],f=e[t.isAllDay],u=this.parent.localeObj.getConstant("allDay"),g=this.parent.getTimeString(h)+" - "+this.parent.getTimeString(v);if(!y(e.data)){var d=v.getTimezoneOffset()!==h.getTimezoneOffset()?v.getTime()-h.getTime()+36e5:v.getTime()-h.getTime(),T=d/he>=1?u:g;u=T+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")"}var S=!y(e.data)||f?u:g,m=c("div",{className:Jt,innerHTML:S});return[s,m]},a.prototype.processAgendaEvents=function(e){var t=[];if(y(e))return t;for(var r=0,i=e;r<i.length;r++){var s=i[r],n=this.parent.eventBase.splitEventByDay(s);t=t.concat(n.length>1?n:s)}return t},a.prototype.wireEventActions=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+Pe)),t=0,r=e;t<r.length;t++){var i=r[t];this.parent.eventBase.wireAppointmentEvents(i,this.parent.getEventDetails(i),!0)}for(var s=[].slice.call(this.parent.element.querySelectorAll(".e-m-date")),n=0,p=s;n<p.length;n++){var i=p[n];V.add(i,"click",this.parent.agendaModule.dayNavigationClick,this)}},a.prototype.calculateResourceTableElement=function(e,t,r,i){if(i===void 0&&(i=null),y(this.parent.resourceBase.lastResourceLevel)){var s=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(s)}for(var n=w(new Date(r.getTime()),t),p=this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"?t:1,l=this.parent.resourceBase.resourceCollection,h=this.parent.resourceBase.lastResourceLevel,v=r,f=r,u=this.parent.activeViewOptions.showWeekend,g=0;g<p;g++){var d=[],T=[],S=0,m=void 0,b=void 0,C=w(f,g);if(this.parent.currentView==="Agenda"&&this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.allowVirtualScrolling&&!u&&!this.isWorkDay(C)){do if(C=w(C,1),C>=i)break;while(!this.isWorkDay(C)||this.parent.eventBase.filterEvents(C,w(C,1)).length<1);if(C>=i)break;f=w(C,-g),n=w(C,1)}var L=this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"?w(C,1):n,M=this.parent.eventBase.filterEvents(C,L);if(M.length>0||!this.parent.hideEmptyAgendaDays||this.parent.currentView==="MonthAgenda"){for(var H=0;H<h.length;H++){t=!this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"?t:1;var x=[];r=C;var we=this.parent.eventBase.filterEvents(r,n,M,h[parseInt(H.toString(),10)]);if(we.length>0||!this.parent.hideEmptyAgendaDays||this.parent.currentView==="MonthAgenda")for(var Te=0;Te<t;Te++){var ce=this.parent.eventBase.filterEvents(r,w(r,1),we,void 0);if(((u||!u&&(this.parent.group.byDate?this.isWorkDay(r):this.isWorkDay(r,h[parseInt(H.toString(),10)].workDays)))&&(ce.length>0||!this.parent.hideEmptyAgendaDays)||this.parent.currentView==="MonthAgenda")&&(x.push(ce[0]),m={rowSpan:1,type:"eventColumn",resource:l[l.length-1],groupIndex:h[parseInt(H.toString(),10)].groupIndex,groupOrder:h[parseInt(H.toString(),10)].groupOrder,resourceData:h[parseInt(H.toString(),10)].resourceData,eventData:ce,date:r},b={rowSpan:1,type:"dateColumn",resource:l[parseInt((l.length-1).toString(),10)],groupOrder:h[parseInt(H.toString(),10)].groupOrder,resourceData:h[parseInt(H.toString(),10)].resourceData,date:r},d[parseInt(S.toString(),10)]||(d[parseInt(S.toString(),10)]=[]),d[parseInt(S.toString(),10)].push(m),d[parseInt(S.toString(),10)].push(b),S++),r=w(r,1),r.getTime()>=n.getTime()||this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"){if(x.length>0){d[d.length-1][1].cssClass=Fe;var Ee={rowSpan:x.length,type:"resourceColumn",resource:l[parseInt((l.length-1).toString(),10)],groupOrder:h[parseInt(H.toString(),10)].groupOrder.slice(0,-1),resourceData:h[parseInt(H.toString(),10)].resourceData,groupIndex:d.length-x.length,className:[Qt],date:r};d[parseInt((d.length-x.length).toString(),10)].push(Ee),T.push(Y({},Ee,null,!0))}break}}}for(var q=l.slice(0,-1),I=[],re=0,j=0;j<q.length;j++)for(var x=q[q.length-(j+1)].dataSource,ae=0;ae<x.length;ae++)for(var st=0,$=0;$<T.length;$++)T[parseInt($.toString(),10)].groupOrder[q.length-(j+1)]===x[parseInt(ae.toString(),10)][q[q.length-(j+1)].idField]&&(re=re+T[parseInt($.toString(),10)].rowSpan,I.push(Y({},T[parseInt($.toString(),10)],null,!0))),++st===T.length&&I.length>0&&(I[0].rowSpan=re,I[0].type="parentColumnLevel_"+(j+1),I[0].resource=q[q.length-(j+1)],I[0].resourceData=x[parseInt(ae.toString(),10)],I[0].date=r,d[I[0].groupIndex].push(I[0]),I=[],re=0);this.createResourceTableRow(d,e)}}var ot=this.parent.eventBase.filterEvents(v,n);ot.length===0&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,v)},a.prototype.createResourceTableRow=function(e,t){var r=c("tr"),i,s=c("td"),n,p=0,l;if(this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"){for(var h=[],v=this.parent.resourceBase.resourceCollection.slice(0,-1),f=0;f<e.length;f++)h=h.concat(e[parseInt(f.toString(),10)]);l=v.length>0?"parentColumnLevel_"+v.length:"resourceColumn";for(var u=h.filter(function(M){return M.type===l}),g=0;g<u.length;g++)p=p+u[parseInt(g.toString(),10)].rowSpan}for(var d=0;d<e.length;d++){i=r.cloneNode();for(var T=e[parseInt(d.toString(),10)].length-1;T>=0;T--){var S=e[parseInt(d.toString(),10)][parseInt(T.toString(),10)],m=s.cloneNode();if(S.type==="dateColumn"){if(this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"){n=e[parseInt(d.toString(),10)][parseInt(T.toString(),10)];continue}m.setAttribute("data-date",S.date.getTime().toString()),m.appendChild(this.createDateHeaderElement(S.date));var b=[P,Ue];S.cssClass&&b.push(S.cssClass),_([m],b),this.isCurrentDate(new Date(S.date.getTime()))&&_(m.childNodes,at),i.appendChild(m)}else if(S.type==="eventColumn"){var C=S.eventData.length===0?"noEvents":"data";m=this.createAgendaContentElement(C,S.eventData,m,S.groupOrder,S.groupIndex),m.setAttribute("data-date",S.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda")&&_([m],[P,Zt]),i.appendChild(m)}else m.setAttribute("rowspan",S.rowSpan.toString()),_([m],er),this.setResourceHeaderContent(m,S,S.className[0]),i.appendChild(m)}if(this.parent.activeViewOptions.group.byDate&&d===0&&this.parent.currentView!=="MonthAgenda"){var m=s.cloneNode();m.setAttribute("data-date",n.date.getTime().toString()),m.setAttribute("rowspan",p.toString()),m.appendChild(this.createDateHeaderElement(n.date)),_([m],[P,Ue,tr]);var L=je(this.parent.selectedDate.getTime(),n.date.getTime());if(i.setAttribute("data-row-index",L.toString()),this.parent.element.querySelector('.e-agenda-view tr[data-row-index="'+L+'"]'))break;i.insertBefore(m,i.childNodes[0])}t.appendChild(i)}},a.prototype.createDateHeaderElement=function(e){var t;if(this.parent.activeViewOptions.dateHeaderTemplate){t=c("div",{className:ze});var r={date:e,type:"dateHeader"},i=this.parent.element.id+"_",s=this.parent.activeViewOptions.dateHeaderTemplateName,n=i+s+"dateHeaderTemplate",p=[].slice.call(this.parent.getDateHeaderTemplate()(r,this.parent,"dateHeaderTemplate",n,!1));N(p,t)}else t=this.getMobileDateElement(e,ze);return t},a.prototype.renderEmptyContent=function(e,t){var r=this.createTableRowElement(t,"noEvents"),i=r.children[0],s=c("div",{className:rr,innerHTML:this.parent.localeObj.getConstant("noEvents")});i.appendChild(s),e.appendChild(r)},a.prototype.createTableRowElement=function(e,t){var r=je(this.parent.selectedDate.getTime(),e.getTime()),i=c("tr",{attrs:{"data-row-index":r.toString()}}),s=c("td",{attrs:{class:t==="monthHeader"?ar:P,"aria-selected":"false","data-column-index":r.toString(),"data-date":e.getTime().toString()}}),n=s.cloneNode(),p=s.cloneNode();return i.appendChild(n),t!=="noEvents"&&i.appendChild(p),i},a.prototype.destroy=function(){o.prototype.destroy.call(this)},a}(it),fr=function(){var o=function(a,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},o(a,e)};return function(a,e){o(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gr=function(o){fr(a,o);function a(e){var t=o.call(this,e)||this;return t.viewClass="e-agenda-view",t.isInverseTableSelect=!1,t.agendaDates={},t.virtualScrollTop=1,t}return a.prototype.getModuleName=function(){return"agenda"},a.prototype.renderLayout=function(){this.agendaDates={},this.element=c("div",{className:Ze}),_([this.element],this.viewClass),this.element.appendChild(this.createTableLayout(et)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+ge).appendChild(this.element);var e=c("tr");this.element.querySelector("tbody").appendChild(e);var t=c("td");e.appendChild(t);var r=c("div",{className:F});t.appendChild(r);var i=this.createTableLayout(G);this.setAriaAttributes(i),r.appendChild(i);var s=i.querySelector("tbody"),n=D(this.parent.selectedDate);this.renderEmptyContent(s,n),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+tt)&&this.renderResourceMobileLayout(),this.parent.notify(oe,{})},a.prototype.eventLoad=function(e){this.dataSource=Y([],this.parent.eventsData,null,!0);for(var t=0,r=this.parent.eventsData;t<r.length;t++){var i=r[t];delete i.generatedDates}var s=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){var n=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(n,this.dataSource),s=this.parent.eventBase.filterEventsByResource(n,s)}this.parent.eventsProcessed=this.processAgendaEvents(s);var p=D(this.parent.selectedDate),l=this.element.querySelector("."+G+" tbody");Ce(l),this.renderInitialContent(l,p),this.wireEventActions();var h=J(l,"."+F);h.scrollTop=1,this.parent.notify(Qe,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()},a.prototype.refreshEvent=function(e){for(var t=[],r=this.parent.eventFields,i=0,s=this.dataSource;i<s.length;i++){var n=s[i];y(n[r.recurrenceID])&&!y(n[r.recurrenceRule])&&!y(n.generatedDates)&&e>=n.generatedDates.end&&(t=t.concat(this.parent.eventBase.generateOccurrence(n,e)))}this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(t))},a.prototype.refreshHeader=function(){var e=this.element.querySelector("."+G+" tbody");this.parent.activeViewOptions.group.byDate?Ce(e):K(e.firstElementChild);var t=D(this.parent.selectedDate),r=c("tbody"),i=new Date(t.getTime()),s=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(i):w(i,this.parent.agendaDaysCount);this.renderContent(r,i,s),N([].slice.call(r.childNodes),e)},a.prototype.renderInitialContent=function(e,t){var r=c("tbody"),i=new Date(t.getTime()),s=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(i):w(i,this.parent.agendaDaysCount);if(this.renderContent(r,i,s),N([].slice.call(r.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0)for(var n=this.getContentAreaElement(),p=n.querySelector(".e-content-table");n.offsetWidth<=n.clientWidth&&!(this.parent.isAdaptive&&p.offsetHeight>=n.clientHeight);){var l=c("tbody");if(s=i,i=w(s,-this.parent.agendaDaysCount),this.renderContent(l,i,s),W([].slice.call(l.childNodes),e),i<=this.parent.minDate)break}e.childNodes.length<=0&&this.renderEmptyContent(e,t)},a.prototype.renderContent=function(e,t,r){var i=this.parent.eventFields,s=new Date(t.getTime()),n=this.appointmentFiltering(s,r);if(n.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays)if(!this.parent.activeViewOptions.showWeekend&&!this.isAgendaWorkDay(n[0][i.startTime]))for(var p=0,l=n;p<l.length;p++){var h=l[p];if(this.isAgendaWorkDay(h[i.startTime])){t=new Date(new Date(h[i.startTime].getTime()).setHours(0,0,0,0)),this.updateHeaderText(h[i.startTime]);break}}else t=new Date(new Date(n[0][i.startTime].getTime()).setHours(0,0,0,0)),this.updateHeaderText(n[0][i.startTime]);var v;if(!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&n.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var f=t;this.parent.activeViewOptions.group.byDate||(this.parent.activeViewOptions.allowVirtualScrolling=!1,f=s,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,f,r)}else for(var u=0;u<this.parent.agendaDaysCount;u++){var g=this.createTableRowElement(t,"data"),d=this.element.querySelector('tr[data-row-index="'+ +g.dataset.rowIndex+'"]');if(d||!this.parent.activeViewOptions.showWeekend&&!this.isAgendaWorkDay(t)){if(t=w(t,1),!d&&this.parent.activeViewOptions.allowVirtualScrolling&&u--,t.getTime()>r.getTime())break;continue}var T=g.children[0],S=g.children[1],m=this.appointmentFiltering(t);if(m.length>0||!this.parent.hideEmptyAgendaDays&&m.length===0){var b=!this.parent.hideEmptyAgendaDays&&m.length===0?"noEvents":"data";T.appendChild(this.createDateHeaderElement(t)),g.appendChild(T);var C=this.createAgendaContentElement(b,m,S);g.appendChild(C),C.querySelectorAll("li").length>0&&e.appendChild(g)}else this.parent.activeViewOptions.allowVirtualScrolling&&u--;if(this.isCurrentDate(new Date(t.getTime()))&&_(T.childNodes,at),t=w(t,1),t.getTime()>r.getTime())break}v=new Date(t.getTime()-he)}this.agendaDates={start:s,end:v}},a.prototype.isAgendaWorkDay=function(e){return this.parent.uiStateValues.isGroupAdaptive&&!this.parent.group.byDate?this.isWorkDay(e,this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].workDays):this.isWorkDay(e)},a.prototype.agendaScrolling=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()},a.prototype.virtualScrolling=function(e){var t=e.target,r=t.scrollTop,i=t.scrollHeight,s=t.clientHeight,n=r+s,p=this.virtualScrollTop<r?"next":"previous",l=t.querySelector("tbody"),h=c("tbody"),v=this.getElementFromScrollerPosition(e),f=this.parent.getDateFromElement(v),u,g;if(r===0){if(u=this.getPreviousNextDate(w(f,-1),p),g=this.appointmentFiltering(u.start,u.end),g.length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(h,u.start,u.end),W([].slice.call(h.childNodes),l),this.wireEventActions();for(var d=0,T=l.children;d<T.length;d++)if(T[parseInt(d.toString(),10)].getAttribute("data-row-index")===v.getAttribute("data-column-index")){var S=T[parseInt(d.toString(),10)].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;t.scrollTop=S;break}this.updateHeaderText(f)}}else n>=i-5?(u=this.getPreviousNextDate(w(f,1),p),g=this.appointmentFiltering(u.start,u.end),(g.length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(h,u.start,u.end),N([].slice.call(h.childNodes),l),this.wireEventActions(),this.updateHeaderText(f))):this.updateHeaderText(f);this.virtualScrollTop=r;var m=this.parent.eventBase.getSelectedAppointments();m.length>0&&m[m.length-1].focus()},a.prototype.getElementFromScrollerPosition=function(e){var t,r=e.target,i=r.scrollTop,s=r.scrollHeight,n=r.clientHeight,p=i+n,l=[].slice.call(r.querySelectorAll(".e-agenda-item")),h,v;if(l.length>0){if(i===0)h=l[0],t=J(h,"."+P);else if(p===s)h=l[l.length-1],t=J(h,"."+P);else for(var f=0,u=l.length;f<u;f++)if(h=l[parseInt(f.toString(),10)],v=h.getBoundingClientRect(),v.top>=0){t=J(h,"."+P);break}}return t},a.prototype.updateHeaderText=function(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(e)},a.prototype.getPreviousNextDate=function(e,t){var r=new Date(e.getTime()),i=this.getStartDateFromEndDate(e),s=this.getEndDateFromStartDate(e),n=0;do{if(this.parent.activeViewOptions.showWeekend||!this.parent.activeViewOptions.showWeekend&&this.isAgendaWorkDay(r)){var p=this.appointmentFiltering(r);(p.length>0||!this.parent.hideEmptyAgendaDays)&&n++}if(r=w(r,t==="next"?1:-1),r<i||r>s)break}while(n!==this.parent.agendaDaysCount);var l=w(r,t==="next"?-1:1);return t==="next"?{start:e,end:w(l,1)}:{start:l,end:w(e,1)}},a.prototype.appointmentFiltering=function(e,t){var r,i;!y(e)&&y(t)?(r=D(new Date(e.getTime())),i=rt(new Date(r.getTime()),he)):(r=new Date(e.getTime()),i=new Date(t.getTime()));var s=this.parent.eventBase.filterEvents(r,i);return s.length===0&&(this.refreshEvent(e),s=this.parent.eventBase.filterEvents(r,i)),s},a.prototype.getStartDateFromEndDate=function(e){var t,r=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var i=Math.min.apply(Math,this.parent.eventsProcessed.map(function(s){return s[r.startTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(i):this.parent.minDate}else t=this.parent.hideEmptyAgendaDays?Ge(e,-1):this.parent.minDate;return D(t)},a.prototype.getEndDateFromStartDate=function(e){var t,r=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var i=Math.max.apply(Math,this.parent.eventsProcessed.map(function(s){return s[r.endTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(i):this.parent.maxDate}else t=this.parent.hideEmptyAgendaDays?Ge(e,1):this.parent.maxDate;return D(w(t,1))},a.prototype.getNextPreviousDate=function(e){var t=e==="next"?1:-1;return w(this.parent.selectedDate,t)},a.prototype.startDate=function(){return D(this.parent.selectedDate)},a.prototype.endDate=function(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):w(this.startDate(),this.parent.agendaDaysCount)},a.prototype.getDateRangeText=function(e){var t=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){var r=y(e)?this.parent.selectedDate:e;return k(this.parent.globalize.formatDate(r,{format:t,calendar:this.parent.getCalendarMode()}),"multiple")}else{var i=this.parent.selectedDate,s=w(i,this.parent.agendaDaysCount-1);return this.formatDateRange(i,s)}},a.prototype.dayNavigationClick=function(e){var t=J(e.currentTarget,"."+P),r=this.parent.getDateFromElement(t);!y(r)&&!this.parent.isAdaptive&&this.parent.isMinMaxDate(r)&&(this.parent.setProperties({selectedDate:r},!0),this.parent.changeView("Day",e))},a.prototype.wireEvents=function(){V.add(this.element.querySelector("."+F),Ye,this.agendaScrolling,this)},a.prototype.unWireEvents=function(){V.remove(this.element.querySelector("."+F),Ye,this.agendaScrolling);for(var e=[].slice.call(this.element.querySelectorAll(".e-m-date")),t=0,r=e;t<r.length;t++){var i=r[t];V.remove(i,"click",this.dayNavigationClick)}},a.prototype.addEventListener=function(){this.parent.on(le,this.onAgendaScrollUiUpdate,this),this.parent.on(pe,this.eventLoad,this)},a.prototype.removeEventListener=function(){this.parent&&(this.parent.off(le,this.onAgendaScrollUiUpdate),this.parent.off(pe,this.eventLoad))},a.prototype.onAgendaScrollUiUpdate=function(){var e=this.getHeaderBarHeight();this.parent.headerModule&&(this.parent.activeViewOptions.allowVirtualScrolling?this.parent.headerModule.updateHeaderItems("add"):this.parent.headerModule.updateHeaderItems("remove"));var t=this.element.querySelector("."+F);this.parent.height!=="auto"&&(t.style.height=U(this.parent.element.offsetHeight-e))},a.prototype.scrollToDate=function(e){var t=new Date(+D(e));if(this.parent.activeViewOptions.allowVirtualScrolling)(!this.parent.hideEmptyAgendaDays||this.parent.getEvents(t,w(t,1),!0).length>0)&&this.parent.changeDate(t);else{var r=this.element.querySelector("."+P+'[data-date="'+t.getTime()+'"]');r&&(this.getContentAreaElement().scrollTop=r.offsetTop)}},a.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),o.prototype.destroy.call(this))},a}(vr);const mr={name:"Schedule",components:{FooterComponent:sr},setup(){const o=Ke(0),a=Ke(null),e=[{Id:1,Subject:"Meeting",StartTime:new Date(2023,1,15,10,0),EndTime:new Date(2023,1,15,12,30)}],t=ir(),r=$e(()=>t.facilities),i=$e(()=>{let n,p,l=3,h=r.value,v=[];if(h)for(n=0,p=h.length;n<p;n+=l)v.push(h.slice(n,n+l));return v});function s(n){a.value=n}return{model:o,selectedFacility:a,chunkedFacilities:i,selectObject:s,eventSettings:e}},provide:{schedule:[hr,ur,gr]}},yr={class:"mt-3"},Sr={key:0},Cr={class:"d-flex flex-column fill-height justify-center align-center text-white"},wr={class:"text-h5 font-weight-black mb-0 text-no-wrap pa-4 rounded-pill",style:{"background-color":"rgba(0, 0, 0, 0.6)"}},Tr=B("br",null,null,-1),Er={key:1},Ar={class:"d-flex fill-height justify-center align-center"},Dr={class:"d-flex flex-column fill-height justify-center align-center text-white"},br={class:"font-weight-black mb-0 text-no-wrap pa-4 rounded-pill",style:{"background-color":"rgba(0, 0, 0, 0.6)"}},_r=B("br",null,null,-1),Vr={class:"qalendar-container is-light-mode text-white",style:{"background-color":"rgba(0, 0, 0, 0.8)"}},Or={style:{height:"3px",backgroundColor:"cornflowerblue",position:"relative"}};function Lr(o,a,e,t,r,i){const s=O("v-col"),n=O("v-row"),p=O("v-parallax"),l=O("v-avatar"),h=O("v-carousel-item"),v=O("v-carousel"),f=O("v-btn"),u=O("v-sheet"),g=O("e-view"),d=O("e-views"),T=O("ejs-schedule"),S=O("v-progress-linear"),m=O("Qalendar"),b=O("FooterComponent");return R(),z("div",yr,[E(p,{src:"https://web-back.perfectgym.com/sites/default/files/styles/460x/public/equipment%20%286%29.jpg?itok=bC0T32-K",class:"ma-0 pa-0"},{default:A(()=>[E(n,{class:"mb-10"},{default:A(()=>[E(s,{cols:"12"},{default:A(()=>[o.$vuetify.display.mobile?(R(),z("span",Er,[E(v,{height:"400","hide-delimiter-background":"","show-arrows":""},{prev:A(({props:C})=>[E(f,{color:"success",variant:"elevated",onClick:C.onClick,icon:"mdi-arrow-left"},null,8,["onClick"])]),next:A(({props:C})=>[E(f,{color:"info",variant:"elevated",onClick:C.onClick,icon:"mdi-arrow-right"},null,8,["onClick"])]),default:A(()=>[(R(!0),z(ve,null,fe(o.getFacilities,C=>(R(),ne(h,{key:C.name},{default:A(()=>[E(u,{height:"100%"},{default:A(()=>[B("div",Ar,[E(l,{size:"300"},{default:A(()=>[E(p,{src:C.Image,class:"ma-0 pa-0",type:"button"},{default:A(()=>[B("div",Dr,[B("span",br,[Q(se(C.Name)+", ",1),_r,Q(" "+se(C.City+", "+C.Street+" "+C.Home),1)])])]),_:2},1032,["src"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(R(),z("span",Sr,[E(n,null,{default:A(()=>[E(s,{cols:"12",align:"center",jusify:"center",class:"text-h4 font-weight-black",style:{"background-color":"rgba(255, 255, 255, 0.6)"}},{default:A(()=>[Q(" Select a club to see the schedule ")]),_:1})]),_:1}),E(v,{progress:"success","hide-delimiters":"",modelValue:t.model,"onUpdate:modelValue":a[0]||(a[0]=C=>t.model=C),class:"pt-10",style:{"background-color":"rgba(255, 255, 255, 0.6)"}},{default:A(()=>[(R(!0),z(ve,null,fe(t.chunkedFacilities,(C,L)=>(R(),ne(h,{key:L},{default:A(()=>[E(n,null,{default:A(()=>[(R(!0),z(ve,null,fe(C,M=>(R(),ne(s,{cols:"4",key:M.name,align:"center",onClick:H=>t.selectObject(M.Name)},{default:A(()=>[E(l,{size:"400"},{default:A(()=>[E(p,{src:M.Image,class:"ma-0 pa-0",type:"button"},{default:A(()=>[B("div",Cr,[B("h1",wr,[Q(se(M.Name)+", ",1),Tr,Q(" "+se(M.City+", "+M.Street+" "+M.Home),1)])])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]))]),_:1})]),_:1}),E(T,{selectedDate:o.selectedDate,eventSettings:t.eventSettings},{default:A(()=>[E(d,null,{default:A(()=>[E(g,{option:"Day"}),E(g,{option:"Week"})]),_:1})]),_:1},8,["selectedDate","eventSettings"]),t.selectedFacility?(R(),ne(n,{key:0},{default:A(()=>[E(s,{cols:"12"},{default:A(()=>[B("div",Vr,[E(m,{events:o.events,config:o.config},{customCurrentTime:A(()=>[B("div",Or,[E(S,{color:"yellow-darken-2",indeterminate:""})])]),_:1},8,["events","config"])])]),_:1})]),_:1})):nr("",!0),E(b,{style:{position:"absolute",bottom:"0px",width:"100%"}})]),_:1})])}const Ir=or(mr,[["render",Lr]]);export{Ir as default};
