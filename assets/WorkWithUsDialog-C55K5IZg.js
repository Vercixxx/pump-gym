import{d as I,r,u as K,c as V,a as M,b as n,o as i,e as c,w as t,h as a,n as O,m as D,F as C,q as A,i as E,z as Q,j as X,f as w,C as Y,D as Z,E as ee,G as le,H as ae,I as oe,J as te,K as ne}from"./index-BwTH-VFR.js";const se=w("span",{class:"text-3xl font-weight-black"},"Join our team!",-1),ie=w("span",{class:"text-3xl font-weight-black"},"Join our team!",-1),de=I({__name:"WorkWithUsDialog",setup(ue){const m=r(!1),u=r(!1),_=r(null),g=r(""),v=r([]),k=r(null),p=K(),U=V(()=>p.workWithUsDialog),W=V(()=>p.facilities),b=()=>{p.closeWorkWithUsDialog()},x=e=>{p.triggerAlert(e)},d=r([{name:"name",label:"Name",value:"",rules:[e=>!!e||"Name is required"]},{name:"email",label:"Email",value:"",rules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"]},{name:"phone",label:"Phone",value:"",rules:[e=>!!e||"Phone is required",e=>e&&e.length>=9&&e.length<=15||"Phone must be valid"]}]),N=M(),q=V(()=>N.name.value==="dark"),B=async()=>{u.value=!0;try{if(v.value.length>0){const l=Y(Z,"Applications/"+d.value.find(s=>s.name==="email").value+"/"+v.value[0].name);await ee(l,v.value[0]),k.value=await le(l)}const e={name:d.value.find(l=>l.name==="name").value,email:d.value.find(l=>l.name==="email").value,phone:d.value.find(l=>l.name==="phone").value,facility:_.value,message:g.value,fileUrl:k.value};await ae(oe(te(ne,"Applications"),e.email),e),x({message:"Application sent successfully!",type:"success"})}catch(e){console.error("Error occurred while sending application",e),x({message:"Error occurred while sending application, please try again later",type:"error"})}u.value=!1,b()},z=()=>{d.value.forEach(e=>e.value=""),b()};return(e,l)=>{const s=n("v-col"),h=n("v-btn"),y=n("v-row"),F=n("v-text-field"),P=n("v-select"),J=n("v-textarea"),R=n("v-chip"),$=n("v-file-input"),S=n("v-form"),T=n("v-card-text"),L=n("v-tooltip"),j=n("v-card-actions"),G=n("v-card"),H=n("v-dialog");return i(),c(H,{modelValue:U.value,"onUpdate:modelValue":l[4]||(l[4]=o=>U.value=o),persistent:"",width:"600",transition:"dialog-top-transition",fullscreen:!!e.$vuetify.display.smAndDown},{default:t(()=>[a(G,{class:O(["pa-4",[q.value?"bg-slate-800":"bg-slate-200",e.$vuetify.display.smAndDown?"":"rounded-xl"]])},{default:t(()=>[e.$vuetify.display.smAndDown?(i(),c(y,{key:1},{default:t(()=>[a(s,{cols:"2",align:"start"},{default:t(()=>[a(h,{text:"Back",onClick:z,"prepend-icon":"mdi-arrow-left",variant:"plain"})]),_:1}),a(s,{cols:"8",align:"center"},{default:t(()=>[ie]),_:1}),a(s,{cols:"2"})]),_:1})):(i(),c(y,{key:0},{default:t(()=>[a(s,{cols:"2"}),a(s,{cols:"8",align:"center"},{default:t(()=>[se]),_:1}),a(s,{cols:"2",align:"end"},{default:t(()=>[a(h,{icon:"mdi-close",variant:"plain",class:"text-xl",onClick:b})]),_:1})]),_:1})),a(T,null,{default:t(()=>[a(S,{modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=o=>m.value=o)},{default:t(()=>[(i(!0),D(C,null,A(d.value,o=>(i(),c(F,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,variant:"outlined",label:o.label,rules:o.rules,class:"mb-5",disabled:u.value},null,8,["modelValue","onUpdate:modelValue","label","rules","disabled"]))),256)),a(P,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=o=>_.value=o),items:W.value,"item-title":"Name","item-value":"Name",label:"Choose facility",variant:"outlined",rules:e.requiredRule,disabled:u.value,class:"mb-5"},null,8,["modelValue","items","rules","disabled"]),a(J,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=o=>g.value=o),label:"Tell us about yourself",variant:"outlined",class:"mb-5",disabled:u.value,"auto-grow":"",clearable:"",counter:""},null,8,["modelValue","disabled"]),a($,{modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=o=>v.value=o),label:"Upload CV",placeholder:"Upload your documents","prepend-icon":"mdi-paperclip","show-size":"",variant:"outlined",disabled:u.value,accept:"application/pdf",rules:e.fileRules,hint:"Send file in PDF format","persistent-hint":""},{selection:t(({fileNames:o})=>[(i(!0),D(C,null,A(o,f=>(i(),c(R,{key:f,class:"me-2",color:"primary",size:"small",label:""},{default:t(()=>[E(Q(f),1)]),_:2},1024))),128))]),_:1},8,["modelValue","disabled","rules"])]),_:1},8,["modelValue"])]),_:1}),a(j,null,{default:t(()=>[a(y,null,{default:t(()=>[a(s,{cols:"12"},{default:t(()=>[m.value?X("",!0):(i(),c(L,{key:0,activator:"parent",location:"top","no-overflow":""},{default:t(()=>[E(" Fill required fields ")]),_:1})),w("span",null,[a(h,{size:"large",block:"",text:"Join",color:m.value?"success":"error",disabled:!m.value,variant:"elevated",loading:u.value,onClick:B},null,8,["color","disabled","loading"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","fullscreen"])}}});export{de as default};
